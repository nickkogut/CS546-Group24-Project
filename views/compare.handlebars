<main>
  <h1>Compare Payroll Job Salaries</h1>

  {{#if error}}
    <p style="color:red">{{error}}</p>
  {{/if}}

  <section id="graph-section" style="margin-bottom:30px;">
    <h2>Graph salaries for a job</h2>

    <div style="margin-bottom:8px;">
      <label for="jobSelect">Job title:</label>
      <select id="jobSelect">
        {{#each jobs}}
          <option value="{{this}}">{{this}}</option>
        {{/each}}
      </select>
    </div>

    <div style="margin-bottom:8px;">
      <label for="salaryInput">Your salary (optional):</label>
      <input id="salaryInput" type="number" placeholder="e.g. 60000" />
    </div>

    <div style="margin-bottom:8px;">
      <label for="chartType">Graph type:</label>
      <select id="chartType">
        <option value="histogram">Histogram</option>
        <option value="boxplot">Box & Whisker</option>
        <option value="dotplot">Dot Plot</option>
      </select>
    </div>

    <div style="margin-bottom:8px;">
      <label for="filterAgency">Agency (optional):</label>
      <input id="filterAgency" type="text">

      <label for="filterBorough">Borough (optional):</label>
      <input id="filterBorough" type="text">
    </div>

    <div style="margin-bottom:8px;">
      <label for="filterMinSalary">Min salary (optional):</label>
      <input id="filterMinSalary" type="number">
    </div>

    <button id="compareBtn">Generate Graph</button>
    <p id="status"></p>

    <canvas id="histChart" width="800" height="400"></canvas>
    <div id="listingLink"></div>
  </section>

  <hr>

  <section id="job-stats">
    <h2>Job Stats â€“ where do people in your role move on to?</h2>

    <div>
      <label>Your current job:</label>
      <select id="fromJobInput">
        {{#each jobs}}
          <option value="{{this}}">{{this}}</option>
        {{/each}}
      </select>

      <button id="findTransitionsBtn">Find transitions</button>
    </div>

    <p id="transitionsStatus"></p>
    <div id="transitionsList"></div>

    <button id="compareSelectedBtn">Compare Selected Jobs</button>
    <div id="compareResults"></div>

    <hr>

    <h3>Advanced job list</h3>

    <div>
      <label>Agency:</label>
      <input id="advAgency" type="text">

      <label>Borough:</label>
      <input id="advBorough" type="text">
    </div>

    <div>
      <label>Year from:</label>
      <input id="advYearFrom" type="number">

      <label>Year to:</label>
      <input id="advYearTo" type="number">
    </div>

    <div>
      <label>Min avg salary:</label>
      <input id="advMinAvg" type="number">

      <label>Min job entries:</label>
      <input id="advMinCount" type="number">
    </div>

    <button id="advancedJobsBtn">Show jobs</button>

    <p id="advancedJobsStatus"></p>
    <div id="advancedJobsResults"></div>

    <hr>

    <h3>Experience-based salary stats</h3>

    <label for="expJobSelect">Job title:</label>
    <select id="expJobSelect">
      {{#each jobs}}
        <option value="{{this}}">{{this}}</option>
      {{/each}}
    </select>

    <div>
      <label>Min years:</label>
      <input id="expMinYears" type="number">

      <label>Max years:</label>
      <input id="expMaxYears" type="number">
    </div>

    <button id="expStatsBtn">Show experience stats</button>
    <p id="expStatus"></p>
    <div id="experienceResults"></div>
  </section>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="/js/compare.js"></script>
</main>
