<main class="my-info-main">
  <h1>My Info</h1>

  {{#if resumeError}}
  <p class="error" id="resumeError">{{resumeError}}</p>
  {{else}}
  <p class="error" id="resumeError"></p>
  {{/if}}

  {{#if jobError}}
  <p class="error" id="jobError">{{jobError}}</p>
  {{else}}
  <p class="error" id="jobError"></p>
  {{/if}}

  <p>
    Welcome,
    {{#if currentUser}}
    {{currentUser.firstName}} {{currentUser.lastName}}
    {{else}}
    user
    {{/if}}!
  </p>

  <section id="resume-section">
    <h2 id="resumeHeading">
      {{#if hasResume}}
      Your resume
      {{else}}
      Paste your resume
      {{/if}}
    </h2>

    <form id="resume-form" method="post" action="/account/resume">
      <textarea id="resumeText" name="resumeText" rows="10">{{resumeText}}</textarea>

      <div class="resume-actions">
        <button type="submit" id="saveResumeBtn" class="btn">Save resume</button>
        <button type="button" id="editResumeBtn" class="btn secondary">Edit</button>
        <button type="button" id="clearResumeBtn" class="btn secondary">Clear</button>
      </div>
    </form>
  </section>

  <section id="job-history-section">
    <h2>Add job</h2>

    <form id="add-job-form" method="post" action="/account/jobs">
      <div class="field">
        <label for="jobTitle">Job title</label>

        <select id="jobTitle" name="jobTitle" required>
          <option value="">Select a job title</option>
          {{#if jobTitles}}
          {{#each jobTitles}}
          <option value="{{this}}">{{this}}</option>
          {{/each}}
          {{/if}}
        </select>
      </div>

      <div class="field">
        <label for="jobSalary">Salary (annual, $)</label>
        <input id="jobSalary" name="salary" type="number" min="0" step="1000" value="{{jobSalaryValue}}">
      </div>

      <div class="field">
        <label for="jobStartDate">Start date (optional)</label>
        <input id="jobStartDate" name="startDate" type="date" value="{{jobStartDateValue}}">
      </div>

      <div class="field">
        <label for="jobBorough">Work borough (optional)</label>
        <select id="jobBorough" name="borough">
          <option value="">Select borough</option>
          <option value="Manhattan" {{#if jobBoroughIsManhattan}}selected{{/if}}>Manhattan</option>
          <option value="Brooklyn" {{#if jobBoroughIsBrooklyn}}selected{{/if}}>Brooklyn</option>
          <option value="Queens" {{#if jobBoroughIsQueens}}selected{{/if}}>Queens</option>
          <option value="Bronx" {{#if jobBoroughIsBronx}}selected{{/if}}>Bronx</option>
        </select>
      </div>

      <div class="field checkbox-field">
        <label>
          <input type="checkbox" id="jobCurrent" name="currentJob" {{#if jobIsCurrent}}checked{{/if}}>
          I am currently working here
        </label>
      </div>

      <div class="job-actions">
        <button type="submit" class="btn">Add job</button>
        <button type="button" id="clearAddJobBtn" class="btn secondary">Clear</button>
      </div>
    </form>

    <h2>Job history</h2>
    {{#if hasJobs}}
    {{#each heldJobs}}
    <div class="job-card">
      <strong>{{title}}</strong>
      {{#if currentJob}} <span>(Current)</span>{{/if}}

      {{#if salary}}
      <div>Salary: {{formatMoney salary}}</div>
      {{/if}}

      {{#if startDate}}
      <div>Start: {{formatDate startDate}}</div>
      {{/if}}
      {{#if borough}}<div>Borough: {{borough}}</div>{{/if}}
    </div>
    {{/each}}
    {{else}}
    <p>No jobs added yet.</p>
    {{/if}}
  </section>

  <script src="/public/js/account.js"></script>
</main>